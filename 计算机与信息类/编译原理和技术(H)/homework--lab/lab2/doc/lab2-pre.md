lab2-预热实验
0.配置环境
    在之前实验的基础上，将llvm的路径llvm-install/bin添加到PATH中.
1.人工翻译
    通过观察clang -S -emit-llvm输出的结果，推理并理解llvm IR翻译过程.
    首先，每个函数对应一个独立的计数过程.每个label占用一个计数值.
    一个函数的开始，参数先占据计数变量，之后其实label占用一个，之后存储return值占用一个，之后局部变量等开始占用.
    正如上课所讲，每个基本块(BasicBlock)对应没有分支的,顺序的过程.
    具体指令有store load add new br等。每个基本块的结束(除了最后一个基本块)都需要一个br指令标志结束.
    对于多个return情况,将多个return值都存储在同一个地方,并跳转到最后一个基本块读取return值并返回.
    由此,得到了手工翻译的结果.
2.编写gen_fib.cpp
    这一步,要求利用IRBuilder编写一个gen_fib.cpp,来构建LLVM IR并打印.
    1.首先,要理解通过IRBuilder进行代码生成的系统框架,理解BasicBuilder.这一点可以通过阅读Kaleidoscope的例子来初步理解;
    2.其次要清楚我们所需要用到的指令所对应的API.这一点可以通过文档,和VS的AutoComplete功能来推测.
    3.另外还要清楚一些运用API的细节,比如如何获得函数参数,如何获得整形常量,如何store,load,align等等.
    4.这次还要编写Makefile或者CMakeLists.txt.我都试了一下,发现Makefile在子程序返回的不是0的时候会误报为error,并且终止make,这里我的解决方式是中间通过echo生成一个.sh文件,运行.sh文件来执行lli,输出返回结果.而至于CMakeLists.txt我修改之后爆出了一长串的错误,精力有限,没有继续.希望下次能好好学一下cmake.

3.遇到的问题：
    本次实验，我很早开始，没有拖到ddl，是基于上一次实验超时的改变，很好.不过还是遇到了一些意想不到的问题:
    1.实验环境崩溃.
        不知是什么原因,ubuntu虚拟机突然在实验过程中磁盘损坏,通过v2v工具也没能修复.
        重装新ubuntu之后没更新完再次崩溃.通过磁盘检测工具发现物理磁盘没有损坏,推测是VMware的问题.
        在咨询助教之后决定迁移环境到wsl中.还好私钥已备份.
    2.阅读文档能力较差.
        实验中找了很久INSTRUCTION对应的函数,对应的描述很少,只能通过猜测.这里收李嘉豪同学的启发,知道了IntellliSence对变成效率的重要性,安装了VSCode,VS等.最后由于迁移到了wsl,通过VS写代码,变成效率得到了很大的提升.提升的地方主要体现在IntelliSence和AutoComplete上.
        更好的生产工具,意味着更强的生产力.这是我这次试验最大的收获.
        同时,文档阅读能力,阅读习惯需要加强.

